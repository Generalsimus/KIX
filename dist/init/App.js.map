{"version":3,"file":"App.js","sourceRoot":"","sources":["../../init/App.js"],"names":[],"mappings":"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","sourcesContent":["import yargs from \"yargs\"\r\nimport {\r\n    hideBin\r\n} from \"yargs/helpers\"\r\n// @ts-ignore\r\nimport ts, {\r\n    ModuleKind,\r\n    visitEachChild,\r\n    SyntaxKind,\r\n    ScriptTarget,\r\n    notImplemented,\r\n    fixupCompilerOptions,\r\n    createTextWriter,\r\n    getTransformers,\r\n    sys,\r\n    ModuleResolutionKind, normalizeSlashes, resolvePath, normalizePath\r\n} from \"typescript\"\r\nimport path from \"path\"\r\nimport fs from \"fs\"\r\nimport {\r\n    createHost,\r\n    deepAssign,\r\n    fixLibFileLocationInCompilerOptions,\r\n    getImportModuleName,\r\n    getModuleWindowName,\r\n    parseJsonFile\r\n} from \"../Helpers/utils.js\"\r\nimport {\r\n    transpilerBefore,\r\n    transpilerAfter\r\n} from \"./Compiler/Transpiler/Module.js\"\r\nimport resolve from \"resolve\"\r\n\r\n\r\n\r\n// create default config\r\n// console.log(ScriptTarget)\r\nconst __RunDirName = normalizeSlashes(path.resolve(\"./\")),\r\n    __args = yargs(hideBin(process.argv)).argv,\r\n    defaultCompilerOptions = {\r\n        \"outFile\": \"app.js\",\r\n        \"outDir\": \"./\",\r\n        \"noImplicitUseStrict\": true,\r\n        alwaysStrict: false,\r\n        // port: 0,\r\n        // outFile: path.resolve(\"./\"), \r\n        // emitDeclarationOnly:true,\r\n        // \"noUnusedLocals\": true,\r\n        // lib: [],\r\n        // lib: [\"es2015\"],\r\n        // lib: [\"C:\\\\Users\\\\totor\\\\OneDrive\\\\Desktop\\\\node_react_examples\\\\KIDJS\\\\TS_KIX\\\\node_modules\\\\typescript\\\\lib\\\\lib.es2015.d.ts\"],\r\n        // target: ScriptTarget.ES3,\r\n        suppressOutputPathCheck: true,\r\n        removeComments: true,\r\n        sourceMap: true,\r\n        rootDir: __RunDirName,\r\n        allowJs: true,\r\n        allowSyntheticDefaultImports: true,\r\n        resolveJsonModule: true,\r\n        moduleResolution: ModuleResolutionKind.NodeJs\r\n    },\r\n    priorityCompilerOptions = {\r\n        module: ModuleKind.AMD,\r\n        typeRoots: [\r\n            __RunDirName,\r\n            __dirname\r\n        ],\r\n        __Node_Module_Window_Name: getModuleWindowName(),\r\n        \"noImplicitAny\": true,\r\n        \"paths\": {\r\n            \"kix\": [__dirname]  // this mapping is relative to \"baseUrl\" \r\n        }\r\n    },\r\n    __diagnostics = [],\r\n    // read package.json file \r\n    __packageJson = parseJsonFile(ts.findConfigFile(__RunDirName + \"/\", fs.existsSync, \"package.json\")) || {},\r\n    /////////////////////////\r\n    // read tsConfig.json file \r\n    __TsConfig = parseJsonFile(ts.findConfigFile(__RunDirName, fs.existsSync)) || {},\r\n    /////////////////////////\r\n    __compilerOptions = fixLibFileLocationInCompilerOptions(\r\n        fixupCompilerOptions(\r\n            deepAssign(\r\n                defaultCompilerOptions,\r\n                __TsConfig.compilerOptions,\r\n                __packageJson.compilerOptions,\r\n                priorityCompilerOptions\r\n            ),\r\n            __diagnostics\r\n        )\r\n    ),\r\n    __Host = createHost(__compilerOptions),\r\n    __TranspilingMeta = {},\r\n    __ModuleUrlPath = `/module${new Date().getTime()}.js`;\r\n\r\n\r\n\r\nconsole.log(\"ðŸš€ --> file: App.js --> line 81 --> __compilerOptions\", __compilerOptions);\r\n\r\nexport const App = {\r\n    __RunDirName: __RunDirName,\r\n    __compilerOptions: __compilerOptions,\r\n    // __Target: ScriptTarget.hasOwnProperty(OptionTarget) ? OptionTarget : \"Latest\",\r\n    __diagnostics: __diagnostics,\r\n    __args: __args,\r\n    __Dev_Mode: !!__args[\"_\"]?.includes(\"build\"),\r\n    __Host,\r\n    __packageJson: __packageJson,\r\n    __requestsThreshold: new Map(),\r\n    __TranspilingMeta,\r\n    __ModuleUrlPath,\r\n    init() {\r\n\r\n        if (!this.__compilerOptions.fileName) {\r\n\r\n            const {\r\n                initServer\r\n            } = require(\"./express.js\")\r\n            const {\r\n                ReadIndexHTML\r\n            } = require(\"./readIndex\")\r\n            const server = initServer(this)\r\n            const indexHTMLReader = ReadIndexHTML(this)\r\n\r\n            indexHTMLReader.readJsDomHTML()\r\n\r\n        }\r\n\r\n    },\r\n\r\n\r\n}"]}